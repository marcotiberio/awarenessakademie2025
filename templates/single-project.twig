{% extends 'templates/_document.twig' %}

{% block content %}
  <article 
    class="post" 
    style="background-color: {% if post.pageBackground %}{{ post.pageBackground }}{% else %}transparent{% endif %}; ">
    <header class="post-header w-full max-w-screen-max mx-auto flex flex-col gap-sm md:gap-md">
      <div class="flex justify-end">{{ post.title }}</div>
      {# {{ renderComponent('BlockArtistHeader', { post: post }) }} #}
    </header>
    <section class="post-main boxed flex flex-col">
      <div class="post-main flex flex-col-reverse sm:flex-row gap-md">
        <div class="w-full sm:w-2/3 wysiwyg">
          {% if post.mainText %}
            {{ post.mainText|e('wp_kses_post')wysiwyg }}
          {% endif %}
        </div>
      </div>
      {% for component in post.meta('projectComponents') %}
        {{ renderComponent(component) }}
      {% endfor %}
    </section>
    <section class="post-related">
      {# {{ renderComponent('RelatedPosts', {'preContentTitle': '<h2>' ~ __('Related News') ~ '</h2>', 'taxonomies': post.categories(), 'options': {'maxPosts': 3}}) }} #}
    </section>
  </article>
{% endblock %}
